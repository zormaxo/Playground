<div class="login-form" [@routerTransition]>
    <div class="pb-13 pt-lg-0 pt-5">
        <h3 class="fw-bolder text-gray-900 fs-h4 fs-h1-lg">
            {{ 'PasswordlessLogin' | localize }}
        </h3>
    </div>
    <form #passwordlessLoginForm="ngForm" class="login-form form" method="post" (ngSubmit)="submit()">
        @if (isSmsPasswordlessLoginEnabled && isEmailPasswordlessLoginEnabled) {
            <div>
                <p>{{ 'SelectPasswordlessLogin_Information' | localize }}</p>
                <div class="mb-5">
                    @if (isSmsPasswordlessLoginEnabled && isEmailPasswordlessLoginEnabled) {
                        <select
                            autoFocus
                            size="1"
                            class="form-control form-control-solid h-auto py-7 px-6 rounded-lg fs-h6"
                            [(ngModel)]="selectedPasswordlessLoginProvider"
                            name="selectedPasswordlessLoginProvider">
                            @for (provider of passwordlessLoginProviders; track provider) {
                                <option [value]="provider.value">
                                    {{ provider.text }}
                                </option>
                            }
                        </select>
                    }
                </div>
            </div>
        }
        @if (+selectedPasswordlessLoginProvider === PasswordlessLoginProviderType.Email) {
            <div>
                <p>{{ 'PasswordlessLogin_EmailAddress_Information' | localize }}</p>
                <div class="mb-5">
                    <input
                        #emailAddressInput="ngModel"
                        [(ngModel)]="selectedProviderInputValue"
                        autoFocus
                        class="form-control form-control-solid h-auto py-7 px-6 rounded-lg fs-h6"
                        type="text"
                        autocomplete="emailAddress"
                        placeholder="{{ 'EmailAddress' | localize }} *"
                        name="selectedProviderInputValue"
                        required />
                    @if (!emailAddressInput.touched) {
                        <validation-messages [formCtrl]="emailAddressInput"></validation-messages>
                    }
                </div>
            </div>
        }

        @if (+selectedPasswordlessLoginProvider === PasswordlessLoginProviderType.Sms) {
            <div>
                <p>{{ 'PasswordlessLogin_PhoneNumber_Information' | localize }}</p>
                <div class="mb-5">
                    <input
                        #phoneNumberInput="ngModel"
                        [(ngModel)]="selectedProviderInputValue"
                        autoFocus
                        class="form-control form-control-solid h-auto py-7 px-6 rounded-lg fs-h6"
                        type="text"
                        autocomplete="phoneNumber"
                        placeholder="{{ 'PhoneNumber' | localize }} *"
                        name="selectedProviderInputValue"
                        required />
                    @if (!phoneNumberInput.touched) {
                        <validation-messages [formCtrl]="phoneNumberInput"></validation-messages>
                    }
                </div>
            </div>
        }

        <div class="pb-lg-0 pb-5">
            <button type="submit" class="btn btn-primary fw-bolder fs-h6 px-8 py-4 my-3 me-3">
                {{ 'Submit' | localize }}
            </button>
        </div>
    </form>
</div>
